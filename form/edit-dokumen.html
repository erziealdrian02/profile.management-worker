<!DOCTYPE html>
<html lang="id">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Edit Kehadiran - Sistem Manajemen Karyawan</title>
      <script src="https://cdn.tailwindcss.com"></script>
      <link
         rel="stylesheet"
         href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      />
      <script>
         tailwind.config = {
            theme: {
               extend: {
                  colors: {
                     "primary-green": "#2d5a3d",
                     "light-green": "#4a7c59",
                  },
               },
            },
         };
      </script>
   </head>
   <body class="bg-gray-50 min-h-screen">
      <!-- Header with Employee Info -->
      <div class="bg-primary-green text-white">
         <div class="flex items-center p-6">
            <!-- Employee Photo -->
            <div class="bg-white rounded-lg p-2 mr-6">
               <img
                  src="/placeholder.svg?height=120&width=100"
                  alt="Arif Wibisono"
                  class="w-24 h-32 rounded object-cover"
               />
            </div>
            <!-- Employee Name and Title -->
            <div class="flex-1">
               <h1 class="text-4xl font-bold mb-2">Arif Wibisono</h1>
               <p class="text-xl text-green-200">Adm. Sr. Manager</p>
            </div>
         </div>

         <!-- Navigation Tabs -->
         <div class="border-t border-light-green">
            <nav class="flex overflow-x-auto px-6">
               <a
                  href="../dashboard.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-user mr-2"></i>
                  Profil
               </a>
               <a
                  href="../pekerjaan.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-briefcase mr-2"></i>
                  Pekerjaan
               </a>
               <a
                  href="../kehadiran.html"
                  class="nav-tab active px-6 py-4 whitespace-nowrap border-b-2 border-white text-sm font-medium flex items-center"
               >
                  <i class="fas fa-calendar-check mr-2"></i>
                  Kehadiran
               </a>
               <a
                  href="../dokumen.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-file-alt mr-2"></i>
                  Dokumen
               </a>
               <a
                  href="../kesehatan.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-heartbeat mr-2"></i>
                  Riwat Kesehatan
               </a>
               <a
                  href="../performa.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-chart-line mr-2"></i>
                  Performa
               </a>
               <a
                  href="../pelatihan.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-graduation-cap mr-2"></i>
                  Pelatihan
               </a>
               <a
                  href="../organisasi.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-sitemap mr-2"></i>
                  Struktur Organisasi
               </a>
               <a
                  href="../catatan.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-sticky-note mr-2"></i>
                  Catatan
               </a>
               <a
                  href="../lainnya.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-ellipsis-h mr-2"></i>
                  Lainnya
               </a>
            </nav>
         </div>
      </div>

      <!-- Main Content Area -->
      <div class="flex">
         <!-- Left Sidebar -->
         <div class="w-80 bg-primary-green text-white">
            <!-- Area Section -->
            <div class="p-6 border-b border-light-green">
               <h3 class="font-semibold text-white mb-4 flex items-center">
                  <i class="fas fa-map-marker-alt mr-2"></i>
                  Area
               </h3>
               <div class="space-y-3 text-sm">
                  <div class="flex items-center">
                     <span class="w-4 h-4 bg-green-400 rounded-sm mr-3"></span>
                     <i class="fas fa-phone mr-2 text-xs"></i>
                     <span>+62-21-2578-4672</span>
                  </div>
                  <div class="flex items-center">
                     <span class="w-4 h-4 bg-gray-300 rounded-sm mr-3"></span>
                     <i class="fas fa-mobile-alt mr-2 text-xs"></i>
                     <span>+62-811-8000-504</span>
                  </div>
                  <div class="flex items-center">
                     <span class="w-4 h-4 bg-blue-400 rounded-sm mr-3"></span>
                     <i class="fas fa-envelope mr-2 text-xs"></i>
                     <span>arifwibisono@gmail.co.id</span>
                  </div>
                  <div class="flex items-center">
                     <span class="w-4 h-4 bg-red-400 rounded-sm mr-3"></span>
                     <i class="fas fa-building mr-2 text-xs"></i>
                     <span>HBCA</span>
                  </div>
                  <div class="flex items-center">
                     <span class="w-4 h-4 bg-purple-400 rounded-sm mr-3"></span>
                     <i class="fas fa-university mr-2 text-xs"></i>
                     <span>UBC</span>
                  </div>
                  <div class="flex items-center">
                     <span class="w-4 h-4 bg-yellow-400 rounded-sm mr-3"></span>
                     <i class="fas fa-id-badge mr-2 text-xs"></i>
                     <span>1734</span>
                  </div>
               </div>
            </div>

            <!-- Tanggal Bergabung Section -->
            <div class="p-6 border-b border-light-green">
               <h3 class="font-semibold text-white mb-4 flex items-center">
                  <i class="fas fa-calendar-plus mr-2"></i>
                  Tanggal Bergabung
               </h3>
               <div class="text-sm">
                  <div class="flex items-center mb-2">
                     <span class="w-4 h-4 bg-blue-400 rounded-sm mr-3"></span>
                     <span>05 Juli 2017</span>
                  </div>
                  <div class="text-green-200 ml-7">7 Tahun, 6 Bulan</div>
               </div>
            </div>

            <!-- Laporan Langsung Section -->
            <div class="p-6">
               <h3 class="font-semibold text-white mb-4 flex items-center">
                  <i class="fas fa-users mr-2"></i>
                  Laporan Langsung
               </h3>
               <div class="space-y-2 text-sm">
                  <div class="flex items-center">
                     <span
                        class="w-2 h-2 bg-green-300 rounded-full mr-3"
                     ></span>
                     <span>Keuangan Eksekutif</span>
                  </div>
                  <div class="flex items-center">
                     <span
                        class="w-2 h-2 bg-green-300 rounded-full mr-3"
                     ></span>
                     <span>Sekretaris Eksekutif</span>
                  </div>
               </div>
            </div>
         </div>

         <!-- Main Content -->
         <div class="flex-1 p-6 bg-gray-50">
            <!-- Page Header -->
            <div class="flex items-center justify-between mb-6">
               <div class="flex items-center">
                  <div
                     class="w-8 h-8 bg-gray-200 rounded mr-3 flex items-center justify-center"
                  >
                     <i class="fas fa-edit text-gray-600"></i>
                  </div>
                  <h2 class="text-2xl font-bold text-gray-800">
                     Edit Kehadiran
                  </h2>
               </div>
               <div class="flex space-x-2">
                  <select
                     class="border border-gray-300 rounded-lg px-3 py-2 text-sm"
                  >
                     <option>Januari 2024</option>
                     <option>Februari 2024</option>
                     <option>Maret 2024</option>
                  </select>
                  <a
                     href="kehadiran.html"
                     class="bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded text-sm font-medium flex items-center"
                  >
                     <i class="fas fa-times mr-2"></i>
                     Batal
                  </a>
                  <button
                     class="bg-primary-green hover:bg-light-green text-white px-4 py-2 rounded text-sm font-medium flex items-center"
                  >
                     <i class="fas fa-save mr-2"></i>
                     Simpan Perubahan
                  </button>
               </div>
            </div>

            <!-- Quick Actions -->
            <div class="bg-white rounded-lg border border-gray-200 p-4 mb-6">
               <div class="flex items-center justify-between">
                  <h3 class="font-semibold text-gray-800">Aksi Cepat</h3>
                  <div class="flex space-x-2">
                     <button
                        class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm flex items-center"
                     >
                        <i class="fas fa-plus mr-1"></i>
                        Tambah Kehadiran
                     </button>
                     <button
                        class="bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded text-sm flex items-center"
                     >
                        <i class="fas fa-calendar-times mr-1"></i>
                        Tambah Cuti
                     </button>
                     <button
                        class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm flex items-center"
                     >
                        <i class="fas fa-user-times mr-1"></i>
                        Tambah Izin
                     </button>
                  </div>
               </div>
            </div>

            <!-- Attendance Calendar -->
            <div
               class="bg-white rounded-lg border border-gray-200 overflow-hidden mb-6"
            >
               <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                  <h3 class="text-lg font-semibold flex items-center">
                     <i class="fas fa-calendar-alt text-gray-400 mr-3"></i>
                     Kalender Kehadiran - Januari 2024
                  </h3>
               </div>
               <div class="p-6">
                  <!-- Calendar Header -->
                  <div class="grid grid-cols-7 gap-2 mb-4">
                     <div class="text-center font-semibold text-gray-600 py-2">
                        Min
                     </div>
                     <div class="text-center font-semibold text-gray-600 py-2">
                        Sen
                     </div>
                     <div class="text-center font-semibold text-gray-600 py-2">
                        Sel
                     </div>
                     <div class="text-center font-semibold text-gray-600 py-2">
                        Rab
                     </div>
                     <div class="text-center font-semibold text-gray-600 py-2">
                        Kam
                     </div>
                     <div class="text-center font-semibold text-gray-600 py-2">
                        Jum
                     </div>
                     <div class="text-center font-semibold text-gray-600 py-2">
                        Sab
                     </div>
                  </div>

                  <!-- Calendar Days -->
                  <div class="grid grid-cols-7 gap-2">
                     <!-- Week 1 -->
                     <div class="text-center py-3 text-gray-400">31</div>
                     <div
                        class="attendance-day bg-green-100 border border-green-300 rounded p-2 cursor-pointer hover:bg-green-200"
                        data-date="2024-01-01"
                     >
                        <div class="text-center font-semibold">1</div>
                        <div class="text-xs text-green-700">08:00-17:00</div>
                     </div>
                     <div
                        class="attendance-day bg-green-100 border border-green-300 rounded p-2 cursor-pointer hover:bg-green-200"
                        data-date="2024-01-02"
                     >
                        <div class="text-center font-semibold">2</div>
                        <div class="text-xs text-green-700">08:15-17:00</div>
                     </div>
                     <div
                        class="attendance-day bg-green-100 border border-green-300 rounded p-2 cursor-pointer hover:bg-green-200"
                        data-date="2024-01-03"
                     >
                        <div class="text-center font-semibold">3</div>
                        <div class="text-xs text-green-700">08:00-17:30</div>
                     </div>
                     <div
                        class="attendance-day bg-green-100 border border-green-300 rounded p-2 cursor-pointer hover:bg-green-200"
                        data-date="2024-01-04"
                     >
                        <div class="text-center font-semibold">4</div>
                        <div class="text-xs text-green-700">08:00-17:00</div>
                     </div>
                     <div
                        class="attendance-day bg-green-100 border border-green-300 rounded p-2 cursor-pointer hover:bg-green-200"
                        data-date="2024-01-05"
                     >
                        <div class="text-center font-semibold">5</div>
                        <div class="text-xs text-green-700">08:00-17:00</div>
                     </div>
                     <div
                        class="bg-gray-100 border border-gray-300 rounded p-2"
                     >
                        <div class="text-center font-semibold text-gray-500">
                           6
                        </div>
                        <div class="text-xs text-gray-500">Weekend</div>
                     </div>

                     <!-- Week 2 -->
                     <div
                        class="bg-gray-100 border border-gray-300 rounded p-2"
                     >
                        <div class="text-center font-semibold text-gray-500">
                           7
                        </div>
                        <div class="text-xs text-gray-500">Weekend</div>
                     </div>
                     <div
                        class="attendance-day bg-green-100 border border-green-300 rounded p-2 cursor-pointer hover:bg-green-200"
                        data-date="2024-01-08"
                     >
                        <div class="text-center font-semibold">8</div>
                        <div class="text-xs text-green-700">08:00-17:00</div>
                     </div>
                     <div
                        class="attendance-day bg-yellow-100 border border-yellow-300 rounded p-2 cursor-pointer hover:bg-yellow-200"
                        data-date="2024-01-09"
                     >
                        <div class="text-center font-semibold">9</div>
                        <div class="text-xs text-yellow-700">Terlambat</div>
                     </div>
                     <div
                        class="attendance-day bg-green-100 border border-green-300 rounded p-2 cursor-pointer hover:bg-green-200"
                        data-date="2024-01-10"
                     >
                        <div class="text-center font-semibold">10</div>
                        <div class="text-xs text-green-700">08:00-17:00</div>
                     </div>
                     <div
                        class="attendance-day bg-green-100 border border-green-300 rounded p-2 cursor-pointer hover:bg-green-200"
                        data-date="2024-01-11"
                     >
                        <div class="text-center font-semibold">11</div>
                        <div class="text-xs text-green-700">08:00-17:00</div>
                     </div>
                     <div
                        class="attendance-day bg-blue-100 border border-blue-300 rounded p-2 cursor-pointer hover:bg-blue-200"
                        data-date="2024-01-12"
                     >
                        <div class="text-center font-semibold">12</div>
                        <div class="text-xs text-blue-700">Cuti</div>
                     </div>
                     <div
                        class="bg-gray-100 border border-gray-300 rounded p-2"
                     >
                        <div class="text-center font-semibold text-gray-500">
                           13
                        </div>
                        <div class="text-xs text-gray-500">Weekend</div>
                     </div>

                     <!-- Continue with more weeks... -->
                     <div
                        class="bg-gray-100 border border-gray-300 rounded p-2"
                     >
                        <div class="text-center font-semibold text-gray-500">
                           14
                        </div>
                        <div class="text-xs text-gray-500">Weekend</div>
                     </div>
                     <div
                        class="attendance-day bg-green-100 border border-green-300 rounded p-2 cursor-pointer hover:bg-green-200"
                        data-date="2024-01-15"
                     >
                        <div class="text-center font-semibold">15</div>
                        <div class="text-xs text-green-700">08:00-17:00</div>
                     </div>
                     <div
                        class="attendance-day bg-red-100 border border-red-300 rounded p-2 cursor-pointer hover:bg-red-200"
                        data-date="2024-01-16"
                     >
                        <div class="text-center font-semibold">16</div>
                        <div class="text-xs text-red-700">Tidak Hadir</div>
                     </div>
                     <div
                        class="attendance-day bg-green-100 border border-green-300 rounded p-2 cursor-pointer hover:bg-green-200"
                        data-date="2024-01-17"
                     >
                        <div class="text-center font-semibold">17</div>
                        <div class="text-xs text-green-700">08:00-17:00</div>
                     </div>
                     <div
                        class="attendance-day bg-green-100 border border-green-300 rounded p-2 cursor-pointer hover:bg-green-200"
                        data-date="2024-01-18"
                     >
                        <div class="text-center font-semibold">18</div>
                        <div class="text-xs text-green-700">08:00-17:00</div>
                     </div>
                     <div
                        class="attendance-day bg-green-100 border border-green-300 rounded p-2 cursor-pointer hover:bg-green-200"
                        data-date="2024-01-19"
                     >
                        <div class="text-center font-semibold">19</div>
                        <div class="text-xs text-green-700">08:00-17:00</div>
                     </div>
                     <div
                        class="bg-gray-100 border border-gray-300 rounded p-2"
                     >
                        <div class="text-center font-semibold text-gray-500">
                           20
                        </div>
                        <div class="text-xs text-gray-500">Weekend</div>
                     </div>
                  </div>

                  <!-- Legend -->
                  <div class="mt-6 flex flex-wrap gap-4 text-sm">
                     <div class="flex items-center">
                        <div
                           class="w-4 h-4 bg-green-100 border border-green-300 rounded mr-2"
                        ></div>
                        <span>Hadir</span>
                     </div>
                     <div class="flex items-center">
                        <div
                           class="w-4 h-4 bg-yellow-100 border border-yellow-300 rounded mr-2"
                        ></div>
                        <span>Terlambat</span>
                     </div>
                     <div class="flex items-center">
                        <div
                           class="w-4 h-4 bg-blue-100 border border-blue-300 rounded mr-2"
                        ></div>
                        <span>Cuti</span>
                     </div>
                     <div class="flex items-center">
                        <div
                           class="w-4 h-4 bg-red-100 border border-red-300 rounded mr-2"
                        ></div>
                        <span>Tidak Hadir</span>
                     </div>
                     <div class="flex items-center">
                        <div
                           class="w-4 h-4 bg-gray-100 border border-gray-300 rounded mr-2"
                        ></div>
                        <span>Weekend/Libur</span>
                     </div>
                  </div>
               </div>
            </div>

            <!-- Attendance Details Form -->
            <div
               class="bg-white rounded-lg border border-gray-200 overflow-hidden mb-6"
               id="attendance-form"
               style="display: none"
            >
               <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                  <h3 class="text-lg font-semibold flex items-center">
                     <i class="fas fa-clock text-gray-400 mr-3"></i>
                     Edit Kehadiran - <span id="selected-date"></span>
                  </h3>
               </div>
               <div class="p-6">
                  <form class="space-y-6">
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Status Kehadiran *</label
                           >
                           <select
                              id="attendance-status"
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           >
                              <option value="hadir">Hadir</option>
                              <option value="terlambat">Terlambat</option>
                              <option value="cuti">Cuti</option>
                              <option value="izin">Izin</option>
                              <option value="sakit">Sakit</option>
                              <option value="tidak_hadir">Tidak Hadir</option>
                           </select>
                        </div>
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Jam Masuk</label
                           >
                           <input
                              type="time"
                              id="check-in"
                              value="08:00"
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           />
                        </div>
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Jam Keluar</label
                           >
                           <input
                              type="time"
                              id="check-out"
                              value="17:00"
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           />
                        </div>
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Total Jam Kerja</label
                           >
                           <input
                              type="text"
                              id="total-hours"
                              value="8 jam"
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 bg-gray-100"
                              readonly
                           />
                        </div>
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Jam Istirahat</label
                           >
                           <input
                              type="number"
                              step="0.5"
                              value="1"
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           />
                        </div>
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Jam Lembur</label
                           >
                           <input
                              type="number"
                              step="0.5"
                              value="0"
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           />
                        </div>
                     </div>

                     <div>
                        <label
                           class="block text-sm font-medium text-gray-700 mb-2"
                           >Keterangan</label
                        >
                        <textarea
                           rows="3"
                           class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           placeholder="Tambahkan keterangan jika diperlukan..."
                        ></textarea>
                     </div>

                     <div
                        class="flex items-center justify-between pt-4 border-t border-gray-200"
                     >
                        <button
                           type="button"
                           id="cancel-edit"
                           class="bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded text-sm font-medium"
                        >
                           Batal
                        </button>
                        <div class="flex space-x-2">
                           <button
                              type="button"
                              class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded text-sm font-medium"
                           >
                              Hapus
                           </button>
                           <button
                              type="submit"
                              class="bg-primary-green hover:bg-light-green text-white px-4 py-2 rounded text-sm font-medium"
                           >
                              Simpan
                           </button>
                        </div>
                     </div>
                  </form>
               </div>
            </div>

            <!-- Bulk Actions -->
            <div
               class="bg-white rounded-lg border border-gray-200 overflow-hidden"
            >
               <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                  <h3 class="text-lg font-semibold flex items-center">
                     <i class="fas fa-tasks text-gray-400 mr-3"></i>
                     Aksi Massal
                  </h3>
               </div>
               <div class="p-6">
                  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                     <div class="border border-gray-200 rounded-lg p-4">
                        <h4 class="font-semibold mb-3">Import Kehadiran</h4>
                        <p class="text-sm text-gray-600 mb-4">
                           Upload file Excel untuk import data kehadiran massal
                        </p>
                        <div
                           class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center"
                        >
                           <i
                              class="fas fa-file-excel text-2xl text-gray-400 mb-2"
                           ></i>
                           <p class="text-sm text-gray-600">
                              Drag & drop file Excel atau klik untuk browse
                           </p>
                           <input
                              type="file"
                              class="hidden"
                              accept=".xlsx,.xls"
                           />
                        </div>
                     </div>

                     <div class="border border-gray-200 rounded-lg p-4">
                        <h4 class="font-semibold mb-3">Generate Laporan</h4>
                        <p class="text-sm text-gray-600 mb-4">
                           Buat laporan kehadiran untuk periode tertentu
                        </p>
                        <div class="space-y-3">
                           <select
                              class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                           >
                              <option>Januari 2024</option>
                              <option>Februari 2024</option>
                              <option>Maret 2024</option>
                           </select>
                           <button
                              class="w-full bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded text-sm"
                           >
                              <i class="fas fa-download mr-2"></i>
                              Download Laporan
                           </button>
                        </div>
                     </div>

                     <div class="border border-gray-200 rounded-lg p-4">
                        <h4 class="font-semibold mb-3">Pengaturan Cepat</h4>
                        <p class="text-sm text-gray-600 mb-4">
                           Atur kehadiran untuk beberapa hari sekaligus
                        </p>
                        <div class="space-y-3">
                           <input
                              type="date"
                              class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                           />
                           <input
                              type="date"
                              class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                           />
                           <select
                              class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                           >
                              <option>Hadir Normal</option>
                              <option>Cuti</option>
                              <option>Izin</option>
                           </select>
                           <button
                              class="w-full bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded text-sm"
                           >
                              <i class="fas fa-magic mr-2"></i>
                              Terapkan
                           </button>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>

      <style>
         .nav-tab.active {
            border-bottom-color: white !important;
            background-color: rgba(255, 255, 255, 0.1);
         }
         .nav-tab:hover {
            background-color: rgba(255, 255, 255, 0.05);
         }

         .attendance-day {
            transition: all 0.2s ease;
            min-height: 60px;
         }

         .attendance-day:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
         }

         .attendance-day.selected {
            ring: 2px;
            ring-color: #2d5a3d;
         }
      </style>

      <script>
         document.addEventListener("DOMContentLoaded", function () {
            // Calendar day click handler
            const attendanceDays = document.querySelectorAll(".attendance-day");
            const attendanceForm = document.getElementById("attendance-form");
            const selectedDateSpan = document.getElementById("selected-date");
            const cancelEditBtn = document.getElementById("cancel-edit");

            attendanceDays.forEach((day) => {
               day.addEventListener("click", function () {
                  // Remove previous selection
                  attendanceDays.forEach((d) => d.classList.remove("selected"));

                  // Add selection to clicked day
                  this.classList.add("selected");

                  // Show form
                  attendanceForm.style.display = "block";

                  // Set date
                  const date = this.dataset.date;
                  selectedDateSpan.textContent = new Date(
                     date
                  ).toLocaleDateString("id-ID", {
                     weekday: "long",
                     year: "numeric",
                     month: "long",
                     day: "numeric",
                  });

                  // Populate form with existing data
                  populateForm(this);

                  // Scroll to form
                  attendanceForm.scrollIntoView({ behavior: "smooth" });
               });
            });

            // Cancel edit
            cancelEditBtn.addEventListener("click", function () {
               attendanceForm.style.display = "none";
               attendanceDays.forEach((d) => d.classList.remove("selected"));
            });

            // Status change handler
            const statusSelect = document.getElementById("attendance-status");
            const checkInInput = document.getElementById("check-in");
            const checkOutInput = document.getElementById("check-out");

            statusSelect.addEventListener("change", function () {
               const status = this.value;

               if (
                  status === "cuti" ||
                  status === "izin" ||
                  status === "sakit" ||
                  status === "tidak_hadir"
               ) {
                  checkInInput.disabled = true;
                  checkOutInput.disabled = true;
                  checkInInput.value = "";
                  checkOutInput.value = "";
               } else {
                  checkInInput.disabled = false;
                  checkOutInput.disabled = false;
                  if (status === "hadir") {
                     checkInInput.value = "08:00";
                     checkOutInput.value = "17:00";
                  } else if (status === "terlambat") {
                     checkInInput.value = "08:30";
                     checkOutInput.value = "17:00";
                  }
               }

               calculateTotalHours();
            });

            // Time input change handlers
            checkInInput.addEventListener("change", calculateTotalHours);
            checkOutInput.addEventListener("change", calculateTotalHours);

            function calculateTotalHours() {
               const checkIn = checkInInput.value;
               const checkOut = checkOutInput.value;
               const totalHoursInput = document.getElementById("total-hours");

               if (checkIn && checkOut) {
                  const start = new Date(`2024-01-01 ${checkIn}`);
                  const end = new Date(`2024-01-01 ${checkOut}`);
                  const diff = (end - start) / (1000 * 60 * 60); // Convert to hours

                  if (diff > 0) {
                     totalHoursInput.value = `${diff} jam`;
                  } else {
                     totalHoursInput.value = "0 jam";
                  }
               } else {
                  totalHoursInput.value = "0 jam";
               }
            }

            function populateForm(dayElement) {
               const timeText =
                  dayElement.querySelector(".text-xs").textContent;

               if (timeText.includes("-")) {
                  const times = timeText.split("-");
                  checkInInput.value = times[0];
                  checkOutInput.value = times[1];
                  statusSelect.value = "hadir";
               } else if (timeText === "Terlambat") {
                  statusSelect.value = "terlambat";
                  checkInInput.value = "08:30";
                  checkOutInput.value = "17:00";
               } else if (timeText === "Cuti") {
                  statusSelect.value = "cuti";
                  checkInInput.value = "";
                  checkOutInput.value = "";
                  checkInInput.disabled = true;
                  checkOutInput.disabled = true;
               } else if (timeText === "Tidak Hadir") {
                  statusSelect.value = "tidak_hadir";
                  checkInInput.value = "";
                  checkOutInput.value = "";
                  checkInInput.disabled = true;
                  checkOutInput.disabled = true;
               }

               calculateTotalHours();
            }

            // Form submission
            document
               .querySelector("#attendance-form form")
               .addEventListener("submit", function (e) {
                  e.preventDefault();

                  // Show loading state
                  const submitBtn = this.querySelector('button[type="submit"]');
                  const originalText = submitBtn.textContent;
                  submitBtn.innerHTML =
                     '<i class="fas fa-spinner fa-spin mr-2"></i>Menyimpan...';
                  submitBtn.disabled = true;

                  // Simulate API call
                  setTimeout(() => {
                     alert("Data kehadiran berhasil diperbarui!");
                     submitBtn.textContent = originalText;
                     submitBtn.disabled = false;

                     // Update calendar display
                     updateCalendarDisplay();

                     // Hide form
                     attendanceForm.style.display = "none";
                     attendanceDays.forEach((d) =>
                        d.classList.remove("selected")
                     );
                  }, 1500);
               });

            function updateCalendarDisplay() {
               // Update the selected day's display based on form data
               const selectedDay = document.querySelector(
                  ".attendance-day.selected"
               );
               if (selectedDay) {
                  const status = statusSelect.value;
                  const checkIn = checkInInput.value;
                  const checkOut = checkOutInput.value;
                  const timeDisplay = selectedDay.querySelector(".text-xs");

                  // Update classes and content based on status
                  selectedDay.className =
                     "attendance-day rounded p-2 cursor-pointer";

                  switch (status) {
                     case "hadir":
                        selectedDay.classList.add(
                           "bg-green-100",
                           "border",
                           "border-green-300",
                           "hover:bg-green-200"
                        );
                        timeDisplay.textContent = `${checkIn}-${checkOut}`;
                        timeDisplay.className = "text-xs text-green-700";
                        break;
                     case "terlambat":
                        selectedDay.classList.add(
                           "bg-yellow-100",
                           "border",
                           "border-yellow-300",
                           "hover:bg-yellow-200"
                        );
                        timeDisplay.textContent = "Terlambat";
                        timeDisplay.className = "text-xs text-yellow-700";
                        break;
                     case "cuti":
                        selectedDay.classList.add(
                           "bg-blue-100",
                           "border",
                           "border-blue-300",
                           "hover:bg-blue-200"
                        );
                        timeDisplay.textContent = "Cuti";
                        timeDisplay.className = "text-xs text-blue-700";
                        break;
                     case "tidak_hadir":
                        selectedDay.classList.add(
                           "bg-red-100",
                           "border",
                           "border-red-300",
                           "hover:bg-red-200"
                        );
                        timeDisplay.textContent = "Tidak Hadir";
                        timeDisplay.className = "text-xs text-red-700";
                        break;
                  }
               }
            }

            // File upload handling
            const fileUploadArea = document.querySelector(".border-dashed");
            const fileInput =
               fileUploadArea.querySelector('input[type="file"]');

            fileUploadArea.addEventListener("click", () => {
               fileInput.click();
            });

            fileUploadArea.addEventListener("dragover", (e) => {
               e.preventDefault();
               fileUploadArea.classList.add(
                  "border-primary-green",
                  "bg-green-50"
               );
            });

            fileUploadArea.addEventListener("dragleave", (e) => {
               e.preventDefault();
               fileUploadArea.classList.remove(
                  "border-primary-green",
                  "bg-green-50"
               );
            });

            fileUploadArea.addEventListener("drop", (e) => {
               e.preventDefault();
               fileUploadArea.classList.remove(
                  "border-primary-green",
                  "bg-green-50"
               );
               const files = e.dataTransfer.files;
               if (files.length > 0) {
                  handleFileUpload(files[0]);
               }
            });

            fileInput.addEventListener("change", (e) => {
               if (e.target.files.length > 0) {
                  handleFileUpload(e.target.files[0]);
               }
            });

            function handleFileUpload(file) {
               if (
                  file.type.includes("sheet") ||
                  file.name.endsWith(".xlsx") ||
                  file.name.endsWith(".xls")
               ) {
                  alert(
                     `File ${file.name} berhasil diupload dan sedang diproses...`
                  );
               } else {
                  alert("Mohon upload file Excel (.xlsx atau .xls)");
               }
            }
         });
      </script>
   </body>
</html>
