<!DOCTYPE html>
<html lang="id">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Edit Struktur Organisasi - Sistem Manajemen Karyawan</title>
      <script src="https://cdn.tailwindcss.com"></script>
      <link
         rel="stylesheet"
         href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      />
      <script>
         tailwind.config = {
            theme: {
               extend: {
                  colors: {
                     "primary-green": "#2d5a3d",
                     "light-green": "#4a7c59",
                  },
               },
            },
         };
      </script>
   </head>
   <body class="bg-gray-50 min-h-screen">
      <!-- Header with Employee Info -->
      <div class="bg-primary-green text-white">
         <div class="flex items-center p-6">
            <!-- Employee Photo -->
            <div class="bg-white rounded-lg p-2 mr-6">
               <img
                  src="/placeholder.svg?height=120&width=100"
                  alt="Arif Wibisono"
                  class="w-24 h-32 rounded object-cover"
               />
            </div>
            <!-- Employee Name and Title -->
            <div class="flex-1">
               <h1 class="text-4xl font-bold mb-2">Arif Wibisono</h1>
               <p class="text-xl text-green-200">Adm. Sr. Manager</p>
            </div>
         </div>

         <!-- Navigation Tabs -->
         <div class="border-t border-light-green">
            <nav class="flex overflow-x-auto px-6">
               <a
                  href="../dashboard.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-user mr-2"></i>
                  Profil
               </a>
               <a
                  href="../pekerjaan.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-briefcase mr-2"></i>
                  Pekerjaan
               </a>
               <a
                  href="../kehadiran.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-calendar-check mr-2"></i>
                  Kehadiran
               </a>
               <a
                  href="../dokumen.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-file-alt mr-2"></i>
                  Dokumen
               </a>
               <a
                  href="../kesehatan.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-heartbeat mr-2"></i>
                  Riwat Kesehatan
               </a>
               <a
                  href="../performa.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-chart-line mr-2"></i>
                  Performa
               </a>
               <a
                  href="../pelatihan.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-graduation-cap mr-2"></i>
                  Pelatihan
               </a>
               <a
                  href="../organisasi.html"
                  class="nav-tab active px-6 py-4 whitespace-nowrap border-b-2 border-white text-sm font-medium flex items-center"
               >
                  <i class="fas fa-sitemap mr-2"></i>
                  Struktur Organisasi
               </a>
               <a
                  href="../catatan.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-sticky-note mr-2"></i>
                  Catatan
               </a>
               <a
                  href="../index.html"
                  class="nav-tab px-6 py-4 whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors text-sm font-medium flex items-center"
               >
                  <i class="fas fa-ellipsis-h mr-2"></i>
                  Lainnya
               </a>
            </nav>
         </div>
      </div>

      <!-- Main Content Area -->
      <div class="flex">
         <!-- Left Sidebar -->
         <div class="w-80 bg-primary-green text-white">
            <!-- Area Section -->
            <div class="p-6 border-b border-light-green">
               <h3 class="font-semibold text-white mb-4 flex items-center">
                  <i class="fas fa-map-marker-alt mr-2"></i>
                  Area
               </h3>
               <div class="space-y-3 text-sm">
                  <div class="flex items-center">
                     <span class="w-4 h-4 bg-green-400 rounded-sm mr-3"></span>
                     <i class="fas fa-phone mr-2 text-xs"></i>
                     <span>+62-21-2578-4672</span>
                  </div>
                  <div class="flex items-center">
                     <span class="w-4 h-4 bg-gray-300 rounded-sm mr-3"></span>
                     <i class="fas fa-mobile-alt mr-2 text-xs"></i>
                     <span>+62-811-8000-504</span>
                  </div>
                  <div class="flex items-center">
                     <span class="w-4 h-4 bg-blue-400 rounded-sm mr-3"></span>
                     <i class="fas fa-envelope mr-2 text-xs"></i>
                     <span>arifwibisono@gmail.co.id</span>
                  </div>
                  <div class="flex items-center">
                     <span class="w-4 h-4 bg-red-400 rounded-sm mr-3"></span>
                     <i class="fas fa-building mr-2 text-xs"></i>
                     <span>HBCA</span>
                  </div>
                  <div class="flex items-center">
                     <span class="w-4 h-4 bg-purple-400 rounded-sm mr-3"></span>
                     <i class="fas fa-university mr-2 text-xs"></i>
                     <span>UBC</span>
                  </div>
                  <div class="flex items-center">
                     <span class="w-4 h-4 bg-yellow-400 rounded-sm mr-3"></span>
                     <i class="fas fa-id-badge mr-2 text-xs"></i>
                     <span>1734</span>
                  </div>
               </div>
            </div>

            <!-- Tanggal Bergabung Section -->
            <div class="p-6 border-b border-light-green">
               <h3 class="font-semibold text-white mb-4 flex items-center">
                  <i class="fas fa-calendar-plus mr-2"></i>
                  Tanggal Bergabung
               </h3>
               <div class="text-sm">
                  <div class="flex items-center mb-2">
                     <span class="w-4 h-4 bg-blue-400 rounded-sm mr-3"></span>
                     <span>05 Juli 2017</span>
                  </div>
                  <div class="text-green-200 ml-7">7 Tahun, 6 Bulan</div>
               </div>
            </div>

            <!-- Laporan Langsung Section -->
            <div class="p-6">
               <h3 class="font-semibold text-white mb-4 flex items-center">
                  <i class="fas fa-users mr-2"></i>
                  Laporan Langsung
               </h3>
               <div class="space-y-2 text-sm">
                  <div class="flex items-center">
                     <span
                        class="w-2 h-2 bg-green-300 rounded-full mr-3"
                     ></span>
                     <span>Keuangan Eksekutif</span>
                  </div>
                  <div class="flex items-center">
                     <span
                        class="w-2 h-2 bg-green-300 rounded-full mr-3"
                     ></span>
                     <span>Sekretaris Eksekutif</span>
                  </div>
               </div>
            </div>
         </div>

         <!-- Main Content -->
         <div class="flex-1 p-6 bg-gray-50">
            <!-- Page Header -->
            <div class="flex items-center justify-between mb-6">
               <div class="flex items-center">
                  <div
                     class="w-8 h-8 bg-gray-200 rounded mr-3 flex items-center justify-center"
                  >
                     <i class="fas fa-edit text-gray-600"></i>
                  </div>
                  <h2 class="text-2xl font-bold text-gray-800">
                     Edit Struktur Organisasi
                  </h2>
               </div>
               <div class="flex space-x-2">
                  <a
                     href="organisasi.html"
                     class="bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded text-sm font-medium flex items-center"
                  >
                     <i class="fas fa-times mr-2"></i>
                     Batal
                  </a>
                  <button
                     class="bg-primary-green hover:bg-light-green text-white px-4 py-2 rounded text-sm font-medium flex items-center"
                  >
                     <i class="fas fa-save mr-2"></i>
                     Simpan Perubahan
                  </button>
               </div>
            </div>

            <!-- Current Position Info -->
            <div
               class="bg-white rounded-lg border border-gray-200 overflow-hidden mb-6"
            >
               <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                  <h3 class="text-lg font-semibold flex items-center">
                     <i class="fas fa-id-card text-gray-400 mr-3"></i>
                     Posisi Saat Ini
                  </h3>
               </div>
               <div class="p-6">
                  <form class="space-y-6">
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Jabatan *</label
                           >
                           <input
                              type="text"
                              value="Adm. Sr. Manager"
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           />
                        </div>
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Departemen *</label
                           >
                           <select
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           >
                              <option value="administration" selected>
                                 Administration
                              </option>
                              <option value="finance">Finance</option>
                              <option value="hr">Human Resources</option>
                              <option value="it">Information Technology</option>
                              <option value="operations">Operations</option>
                              <option value="marketing">Marketing</option>
                           </select>
                        </div>
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Divisi</label
                           >
                           <input
                              type="text"
                              value="Corporate Administration"
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           />
                        </div>
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Level Jabatan</label
                           >
                           <select
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           >
                              <option value="staff">Staff</option>
                              <option value="supervisor">Supervisor</option>
                              <option value="manager" selected>Manager</option>
                              <option value="senior_manager">
                                 Senior Manager
                              </option>
                              <option value="director">Director</option>
                              <option value="vp">Vice President</option>
                           </select>
                        </div>
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Lokasi Kerja</label
                           >
                           <select
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           >
                              <option value="jakarta" selected>Jakarta</option>
                              <option value="bandung">Bandung</option>
                              <option value="surabaya">Surabaya</option>
                              <option value="medan">Medan</option>
                              <option value="remote">Remote</option>
                           </select>
                        </div>
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Status Karyawan</label
                           >
                           <select
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           >
                              <option value="permanent" selected>Tetap</option>
                              <option value="contract">Kontrak</option>
                              <option value="probation">Masa Percobaan</option>
                              <option value="intern">Magang</option>
                           </select>
                        </div>
                     </div>
                  </form>
               </div>
            </div>

            <!-- Organizational Chart -->
            <div
               class="bg-white rounded-lg border border-gray-200 overflow-hidden mb-6"
            >
               <div
                  class="bg-gray-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between"
               >
                  <h3 class="text-lg font-semibold flex items-center">
                     <i class="fas fa-sitemap text-gray-400 mr-3"></i>
                     Bagan Organisasi
                  </h3>
                  <div class="flex items-center space-x-2">
                     <button
                        class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm flex items-center"
                     >
                        <i class="fas fa-expand-arrows-alt mr-2"></i>
                        Fullscreen
                     </button>
                     <button
                        class="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm flex items-center"
                     >
                        <i class="fas fa-download mr-2"></i>
                        Export
                     </button>
                  </div>
               </div>
               <div class="p-6">
                  <!-- Organizational Chart Visualization -->
                  <div class="org-chart">
                     <!-- CEO Level -->
                     <div class="flex justify-center mb-8">
                        <div class="org-node ceo-node">
                           <div
                              class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-2"
                           >
                              <i class="fas fa-crown text-red-600 text-xl"></i>
                           </div>
                           <div class="text-center">
                              <div class="font-semibold text-sm">
                                 John Smith
                              </div>
                              <div class="text-xs text-gray-600">
                                 Chief Executive Officer
                              </div>
                           </div>
                        </div>
                     </div>

                     <!-- VP Level -->
                     <div class="flex justify-center space-x-12 mb-8">
                        <div class="org-node vp-node">
                           <div
                              class="w-14 h-14 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2"
                           >
                              <i class="fas fa-user-tie text-purple-600"></i>
                           </div>
                           <div class="text-center">
                              <div class="font-semibold text-sm">
                                 Sarah Johnson
                              </div>
                              <div class="text-xs text-gray-600">
                                 VP Operations
                              </div>
                           </div>
                        </div>
                        <div class="org-node vp-node">
                           <div
                              class="w-14 h-14 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2"
                           >
                              <i class="fas fa-user-tie text-purple-600"></i>
                           </div>
                           <div class="text-center">
                              <div class="font-semibold text-sm">
                                 Michael Chen
                              </div>
                              <div class="text-xs text-gray-600">
                                 VP Finance
                              </div>
                           </div>
                        </div>
                        <div class="org-node vp-node">
                           <div
                              class="w-14 h-14 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2"
                           >
                              <i class="fas fa-user-tie text-purple-600"></i>
                           </div>
                           <div class="text-center">
                              <div class="font-semibold text-sm">Lisa Wong</div>
                              <div class="text-xs text-gray-600">
                                 VP Technology
                              </div>
                           </div>
                        </div>
                     </div>

                     <!-- Director Level -->
                     <div class="flex justify-center space-x-8 mb-8">
                        <div class="org-node director-node">
                           <div
                              class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2"
                           >
                              <i class="fas fa-user-cog text-blue-600"></i>
                           </div>
                           <div class="text-center">
                              <div class="font-semibold text-sm">David Lee</div>
                              <div class="text-xs text-gray-600">
                                 Director Admin
                              </div>
                           </div>
                        </div>
                        <div class="org-node director-node">
                           <div
                              class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2"
                           >
                              <i class="fas fa-user-cog text-blue-600"></i>
                           </div>
                           <div class="text-center">
                              <div class="font-semibold text-sm">
                                 Emma Davis
                              </div>
                              <div class="text-xs text-gray-600">
                                 Director HR
                              </div>
                           </div>
                        </div>
                        <div class="org-node director-node">
                           <div
                              class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2"
                           >
                              <i class="fas fa-user-cog text-blue-600"></i>
                           </div>
                           <div class="text-center">
                              <div class="font-semibold text-sm">
                                 Robert Kim
                              </div>
                              <div class="text-xs text-gray-600">
                                 Director Finance
                              </div>
                           </div>
                        </div>
                        <div class="org-node director-node">
                           <div
                              class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2"
                           >
                              <i class="fas fa-user-cog text-blue-600"></i>
                           </div>
                           <div class="text-center">
                              <div class="font-semibold text-sm">
                                 Anna Taylor
                              </div>
                              <div class="text-xs text-gray-600">
                                 Director IT
                              </div>
                           </div>
                        </div>
                     </div>

                     <!-- Manager Level (Current Position Highlighted) -->
                     <div class="flex justify-center space-x-6 mb-6">
                        <div class="org-node manager-node current-position">
                           <div
                              class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2 ring-2 ring-green-500"
                           >
                              <i class="fas fa-user text-green-600"></i>
                           </div>
                           <div class="text-center">
                              <div class="font-semibold text-sm text-green-700">
                                 Arif Wibisono
                              </div>
                              <div class="text-xs text-green-600">
                                 Adm. Sr. Manager
                              </div>
                              <div
                                 class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded mt-1"
                              >
                                 Current
                              </div>
                           </div>
                        </div>
                        <div class="org-node manager-node">
                           <div
                              class="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-2"
                           >
                              <i class="fas fa-user text-orange-600"></i>
                           </div>
                           <div class="text-center">
                              <div class="font-semibold text-sm">
                                 James Wilson
                              </div>
                              <div class="text-xs text-gray-600">
                                 HR Manager
                              </div>
                           </div>
                        </div>
                        <div class="org-node manager-node">
                           <div
                              class="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-2"
                           >
                              <i class="fas fa-user text-orange-600"></i>
                           </div>
                           <div class="text-center">
                              <div class="font-semibold text-sm">
                                 Maria Garcia
                              </div>
                              <div class="text-xs text-gray-600">
                                 Finance Manager
                              </div>
                           </div>
                        </div>
                        <div class="org-node manager-node">
                           <div
                              class="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-2"
                           >
                              <i class="fas fa-user text-orange-600"></i>
                           </div>
                           <div class="text-center">
                              <div class="font-semibold text-sm">
                                 Kevin Zhang
                              </div>
                              <div class="text-xs text-gray-600">
                                 IT Manager
                              </div>
                           </div>
                        </div>
                     </div>

                     <!-- Staff Level (Direct Reports) -->
                     <div class="flex justify-center space-x-4">
                        <div class="org-node staff-node">
                           <div
                              class="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-2"
                           >
                              <i class="fas fa-user text-gray-600 text-sm"></i>
                           </div>
                           <div class="text-center">
                              <div class="font-semibold text-xs">
                                 Finance Executive
                              </div>
                              <div class="text-xs text-gray-500">Staff</div>
                           </div>
                        </div>
                        <div class="org-node staff-node">
                           <div
                              class="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-2"
                           >
                              <i class="fas fa-user text-gray-600 text-sm"></i>
                           </div>
                           <div class="text-center">
                              <div class="font-semibold text-xs">
                                 Executive Secretary
                              </div>
                              <div class="text-xs text-gray-500">Staff</div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>

            <!-- Reporting Structure -->
            <div
               class="bg-white rounded-lg border border-gray-200 overflow-hidden mb-6"
            >
               <div
                  class="bg-gray-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between"
               >
                  <h3 class="text-lg font-semibold flex items-center">
                     <i class="fas fa-users text-gray-400 mr-3"></i>
                     Struktur Pelaporan
                  </h3>
                  <button
                     class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded text-sm font-medium flex items-center"
                     onclick="openEditReportingModal()"
                  >
                     <i class="fas fa-edit mr-2"></i>
                     Edit Struktur
                  </button>
               </div>
               <div class="p-6">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                     <!-- Reports To -->
                     <div>
                        <h4
                           class="font-semibold text-gray-800 mb-4 flex items-center"
                        >
                           <i class="fas fa-arrow-up text-blue-500 mr-2"></i>
                           Melapor Kepada
                        </h4>
                        <div class="space-y-3">
                           <div
                              class="flex items-center p-3 bg-blue-50 rounded-lg"
                           >
                              <div
                                 class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3"
                              >
                                 <i class="fas fa-user text-blue-600"></i>
                              </div>
                              <div>
                                 <div class="font-semibold text-sm">
                                    David Lee
                                 </div>
                                 <div class="text-xs text-gray-600">
                                    Director Administration
                                 </div>
                                 <div class="text-xs text-blue-600">
                                    Direct Supervisor
                                 </div>
                              </div>
                           </div>
                           <div
                              class="flex items-center p-3 bg-gray-50 rounded-lg"
                           >
                              <div
                                 class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mr-3"
                              >
                                 <i class="fas fa-user-tie text-purple-600"></i>
                              </div>
                              <div>
                                 <div class="font-semibold text-sm">
                                    Sarah Johnson
                                 </div>
                                 <div class="text-xs text-gray-600">
                                    VP Operations
                                 </div>
                                 <div class="text-xs text-purple-600">
                                    Indirect Supervisor
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>

                     <!-- Direct Reports -->
                     <div>
                        <h4
                           class="font-semibold text-gray-800 mb-4 flex items-center"
                        >
                           <i class="fas fa-arrow-down text-green-500 mr-2"></i>
                           Bawahan Langsung
                        </h4>
                        <div class="space-y-3">
                           <div
                              class="flex items-center justify-between p-3 bg-green-50 rounded-lg"
                           >
                              <div class="flex items-center">
                                 <div
                                    class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3"
                                 >
                                    <i class="fas fa-user text-green-600"></i>
                                 </div>
                                 <div>
                                    <div class="font-semibold text-sm">
                                       Finance Executive
                                    </div>
                                    <div class="text-xs text-gray-600">
                                       Staff Level
                                    </div>
                                 </div>
                              </div>
                              <button
                                 class="text-blue-600 hover:text-blue-800 text-sm"
                                 onclick="editDirectReport(1)"
                              >
                                 <i class="fas fa-edit"></i>
                              </button>
                           </div>
                           <div
                              class="flex items-center justify-between p-3 bg-green-50 rounded-lg"
                           >
                              <div class="flex items-center">
                                 <div
                                    class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3"
                                 >
                                    <i class="fas fa-user text-green-600"></i>
                                 </div>
                                 <div>
                                    <div class="font-semibold text-sm">
                                       Executive Secretary
                                    </div>
                                    <div class="text-xs text-gray-600">
                                       Staff Level
                                    </div>
                                 </div>
                              </div>
                              <button
                                 class="text-blue-600 hover:text-blue-800 text-sm"
                                 onclick="editDirectReport(2)"
                              >
                                 <i class="fas fa-edit"></i>
                              </button>
                           </div>
                           <button
                              class="w-full border-2 border-dashed border-gray-300 rounded-lg p-3 text-gray-600 hover:border-green-500 hover:text-green-600 transition-colors text-sm"
                              onclick="addDirectReport()"
                           >
                              <i class="fas fa-plus mr-2"></i>
                              Tambah Bawahan
                           </button>
                        </div>
                     </div>
                  </div>
               </div>
            </div>

            <!-- Position History -->
            <div
               class="bg-white rounded-lg border border-gray-200 overflow-hidden mb-6"
            >
               <div
                  class="bg-gray-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between"
               >
                  <h3 class="text-lg font-semibold flex items-center">
                     <i class="fas fa-history text-gray-400 mr-3"></i>
                     Riwayat Jabatan
                  </h3>
                  <button
                     class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded text-sm font-medium flex items-center"
                     onclick="openAddPositionModal()"
                  >
                     <i class="fas fa-plus mr-2"></i>
                     Tambah Riwayat
                  </button>
               </div>
               <div class="p-6">
                  <div class="space-y-4">
                     <!-- Current Position -->
                     <div
                        class="border-l-4 border-green-500 pl-4 py-3 bg-green-50"
                     >
                        <div class="flex items-center justify-between">
                           <div>
                              <h4 class="font-semibold text-green-800">
                                 Adm. Sr. Manager
                              </h4>
                              <p class="text-sm text-gray-600">
                                 Administration Department • Corporate
                                 Administration Division
                              </p>
                              <p class="text-xs text-gray-500">
                                 Juli 2020 - Sekarang • 4 Tahun 6 Bulan
                              </p>
                           </div>
                           <span
                              class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full"
                              >Current</span
                           >
                        </div>
                     </div>

                     <!-- Previous Position 1 -->
                     <div class="border-l-4 border-blue-500 pl-4 py-3">
                        <div class="flex items-center justify-between">
                           <div>
                              <h4 class="font-semibold text-gray-800">
                                 Administration Manager
                              </h4>
                              <p class="text-sm text-gray-600">
                                 Administration Department • General
                                 Administration
                              </p>
                              <p class="text-xs text-gray-500">
                                 Juli 2017 - Juni 2020 • 3 Tahun
                              </p>
                           </div>
                           <div class="flex items-center space-x-2">
                              <button
                                 class="text-blue-600 hover:text-blue-800 text-sm"
                                 onclick="editPosition(1)"
                              >
                                 <i class="fas fa-edit"></i>
                              </button>
                              <button
                                 class="text-red-600 hover:text-red-800 text-sm"
                                 onclick="deletePosition(1)"
                              >
                                 <i class="fas fa-trash"></i>
                              </button>
                           </div>
                        </div>
                        <div class="mt-2 text-sm text-gray-700">
                           <strong>Pencapaian:</strong> Meningkatkan efisiensi
                           operasional sebesar 25%, implementasi sistem digital
                           untuk administrasi
                        </div>
                     </div>

                     <!-- Previous Position 2 -->
                     <div class="border-l-4 border-gray-400 pl-4 py-3">
                        <div class="flex items-center justify-between">
                           <div>
                              <h4 class="font-semibold text-gray-800">
                                 Senior Administrative Officer
                              </h4>
                              <p class="text-sm text-gray-600">
                                 Administration Department • Document Management
                              </p>
                              <p class="text-xs text-gray-500">
                                 Januari 2015 - Juni 2017 • 2 Tahun 6 Bulan
                              </p>
                           </div>
                           <div class="flex items-center space-x-2">
                              <button
                                 class="text-blue-600 hover:text-blue-800 text-sm"
                                 onclick="editPosition(2)"
                              >
                                 <i class="fas fa-edit"></i>
                              </button>
                              <button
                                 class="text-red-600 hover:text-red-800 text-sm"
                                 onclick="deletePosition(2)"
                              >
                                 <i class="fas fa-trash"></i>
                              </button>
                           </div>
                        </div>
                        <div class="mt-2 text-sm text-gray-700">
                           <strong>Pencapaian:</strong> Mengelola sistem
                           dokumentasi perusahaan, pelatihan staff baru
                        </div>
                     </div>

                     <!-- Previous Position 3 -->
                     <div class="border-l-4 border-gray-400 pl-4 py-3">
                        <div class="flex items-center justify-between">
                           <div>
                              <h4 class="font-semibold text-gray-800">
                                 Administrative Officer
                              </h4>
                              <p class="text-sm text-gray-600">
                                 Administration Department • General Support
                              </p>
                              <p class="text-xs text-gray-500">
                                 Maret 2012 - Desember 2014 • 2 Tahun 10 Bulan
                              </p>
                           </div>
                           <div class="flex items-center space-x-2">
                              <button
                                 class="text-blue-600 hover:text-blue-800 text-sm"
                                 onclick="editPosition(3)"
                              >
                                 <i class="fas fa-edit"></i>
                              </button>
                              <button
                                 class="text-red-600 hover:text-red-800 text-sm"
                                 onclick="deletePosition(3)"
                              >
                                 <i class="fas fa-trash"></i>
                              </button>
                           </div>
                        </div>
                        <div class="mt-2 text-sm text-gray-700">
                           <strong>Pencapaian:</strong> Mendukung operasional
                           harian departemen, koordinasi dengan berbagai divisi
                        </div>
                     </div>
                  </div>
               </div>
            </div>

            <!-- Department Information -->
            <div
               class="bg-white rounded-lg border border-gray-200 overflow-hidden"
            >
               <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                  <h3 class="text-lg font-semibold flex items-center">
                     <i class="fas fa-building text-gray-400 mr-3"></i>
                     Informasi Departemen
                  </h3>
               </div>
               <div class="p-6">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                     <div>
                        <h4 class="font-semibold text-gray-800 mb-3">
                           Administration Department
                        </h4>
                        <div class="space-y-2 text-sm">
                           <div class="flex items-center justify-between">
                              <span class="text-gray-600">Total Karyawan:</span>
                              <span class="font-medium">24 orang</span>
                           </div>
                           <div class="flex items-center justify-between">
                              <span class="text-gray-600">Jumlah Divisi:</span>
                              <span class="font-medium">4 divisi</span>
                           </div>
                           <div class="flex items-center justify-between">
                              <span class="text-gray-600">Budget Tahunan:</span>
                              <span class="font-medium">Rp 2.5M</span>
                           </div>
                           <div class="flex items-center justify-between">
                              <span class="text-gray-600">Lokasi:</span>
                              <span class="font-medium">Jakarta, Bandung</span>
                           </div>
                        </div>
                     </div>

                     <div>
                        <h4 class="font-semibold text-gray-800 mb-3">
                           Tanggung Jawab Utama
                        </h4>
                        <ul class="space-y-1 text-sm text-gray-700">
                           <li class="flex items-start">
                              <i
                                 class="fas fa-check text-green-500 mr-2 mt-1 text-xs"
                              ></i>
                              <span
                                 >Mengelola operasional administrasi
                                 perusahaan</span
                              >
                           </li>
                           <li class="flex items-start">
                              <i
                                 class="fas fa-check text-green-500 mr-2 mt-1 text-xs"
                              ></i>
                              <span>Koordinasi dengan departemen lain</span>
                           </li>
                           <li class="flex items-start">
                              <i
                                 class="fas fa-check text-green-500 mr-2 mt-1 text-xs"
                              ></i>
                              <span>Pengembangan sistem dan proses</span>
                           </li>
                           <li class="flex items-start">
                              <i
                                 class="fas fa-check text-green-500 mr-2 mt-1 text-xs"
                              ></i>
                              <span>Manajemen tim dan pengembangan SDM</span>
                           </li>
                           <li class="flex items-start">
                              <i
                                 class="fas fa-check text-green-500 mr-2 mt-1 text-xs"
                              ></i>
                              <span>Pelaporan dan analisis kinerja</span>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>

      <!-- Edit Reporting Structure Modal -->
      <div
         id="reporting-modal"
         class="fixed inset-0 bg-black bg-opacity-50 hidden z-50"
      >
         <div class="flex items-center justify-center min-h-screen p-4">
            <div
               class="bg-white rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto"
            >
               <div
                  class="bg-gray-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between"
               >
                  <h3 class="text-lg font-semibold">Edit Struktur Pelaporan</h3>
                  <button
                     id="close-reporting-modal"
                     class="text-gray-400 hover:text-gray-600"
                  >
                     <i class="fas fa-times text-xl"></i>
                  </button>
               </div>
               <div class="p-6">
                  <form class="space-y-6">
                     <div>
                        <label
                           class="block text-sm font-medium text-gray-700 mb-2"
                           >Supervisor Langsung *</label
                        >
                        <select
                           class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           required
                        >
                           <option value="">Pilih Supervisor</option>
                           <option value="david_lee" selected>
                              David Lee - Director Administration
                           </option>
                           <option value="emma_davis">
                              Emma Davis - Director HR
                           </option>
                           <option value="robert_kim">
                              Robert Kim - Director Finance
                           </option>
                           <option value="anna_taylor">
                              Anna Taylor - Director IT
                           </option>
                        </select>
                     </div>

                     <div>
                        <label
                           class="block text-sm font-medium text-gray-700 mb-2"
                           >Supervisor Tidak Langsung</label
                        >
                        <select
                           class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                        >
                           <option value="">
                              Pilih Supervisor Tidak Langsung
                           </option>
                           <option value="sarah_johnson" selected>
                              Sarah Johnson - VP Operations
                           </option>
                           <option value="michael_chen">
                              Michael Chen - VP Finance
                           </option>
                           <option value="lisa_wong">
                              Lisa Wong - VP Technology
                           </option>
                        </select>
                     </div>

                     <div>
                        <label
                           class="block text-sm font-medium text-gray-700 mb-2"
                           >Catatan Pelaporan</label
                        >
                        <textarea
                           rows="3"
                           class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           placeholder="Tambahkan catatan khusus tentang struktur pelaporan..."
                        >
Laporan harian ke Director Administration, laporan mingguan ke VP Operations untuk review strategis.</textarea
                        >
                     </div>

                     <div class="flex justify-end space-x-3 pt-4">
                        <button
                           type="button"
                           id="cancel-reporting"
                           class="bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded text-sm font-medium"
                        >
                           Batal
                        </button>
                        <button
                           type="submit"
                           class="bg-primary-green hover:bg-light-green text-white px-4 py-2 rounded text-sm font-medium"
                        >
                           Simpan Perubahan
                        </button>
                     </div>
                  </form>
               </div>
            </div>
         </div>
      </div>

      <!-- Add Position History Modal -->
      <div
         id="position-modal"
         class="fixed inset-0 bg-black bg-opacity-50 hidden z-50"
      >
         <div class="flex items-center justify-center min-h-screen p-4">
            <div
               class="bg-white rounded-lg max-w-3xl w-full max-h-screen overflow-y-auto"
            >
               <div
                  class="bg-gray-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between"
               >
                  <h3 class="text-lg font-semibold">Tambah Riwayat Jabatan</h3>
                  <button
                     id="close-position-modal"
                     class="text-gray-400 hover:text-gray-600"
                  >
                     <i class="fas fa-times text-xl"></i>
                  </button>
               </div>
               <div class="p-6">
                  <form class="space-y-6">
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Nama Jabatan *</label
                           >
                           <input
                              type="text"
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                              placeholder="Masukkan nama jabatan"
                              required
                           />
                        </div>
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Departemen *</label
                           >
                           <select
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                              required
                           >
                              <option value="">Pilih Departemen</option>
                              <option value="administration">
                                 Administration
                              </option>
                              <option value="finance">Finance</option>
                              <option value="hr">Human Resources</option>
                              <option value="it">Information Technology</option>
                              <option value="operations">Operations</option>
                              <option value="marketing">Marketing</option>
                           </select>
                        </div>
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Divisi</label
                           >
                           <input
                              type="text"
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                              placeholder="Nama divisi"
                           />
                        </div>
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Level Jabatan</label
                           >
                           <select
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           >
                              <option value="staff">Staff</option>
                              <option value="supervisor">Supervisor</option>
                              <option value="manager">Manager</option>
                              <option value="senior_manager">
                                 Senior Manager
                              </option>
                              <option value="director">Director</option>
                              <option value="vp">Vice President</option>
                           </select>
                        </div>
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Tanggal Mulai *</label
                           >
                           <input
                              type="date"
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                              required
                           />
                        </div>
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Tanggal Selesai</label
                           >
                           <input
                              type="date"
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           />
                        </div>
                     </div>

                     <div>
                        <label
                           class="block text-sm font-medium text-gray-700 mb-2"
                           >Pencapaian & Tanggung Jawab</label
                        >
                        <textarea
                           rows="4"
                           class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                           placeholder="Jelaskan pencapaian dan tanggung jawab utama dalam posisi ini..."
                        ></textarea>
                     </div>

                     <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Supervisor</label
                           >
                           <input
                              type="text"
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                              placeholder="Nama supervisor"
                           />
                        </div>
                        <div>
                           <label
                              class="block text-sm font-medium text-gray-700 mb-2"
                              >Lokasi</label
                           >
                           <input
                              type="text"
                              class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-green focus:border-transparent"
                              placeholder="Lokasi kerja"
                           />
                        </div>
                     </div>

                     <div class="flex justify-end space-x-3 pt-4">
                        <button
                           type="button"
                           id="cancel-position"
                           class="bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded text-sm font-medium"
                        >
                           Batal
                        </button>
                        <button
                           type="submit"
                           class="bg-primary-green hover:bg-light-green text-white px-4 py-2 rounded text-sm font-medium"
                        >
                           Simpan
                        </button>
                     </div>
                  </form>
               </div>
            </div>
         </div>
      </div>

      <style>
         .nav-tab.active {
            border-bottom-color: white !important;
            background-color: rgba(255, 255, 255, 0.1);
         }
         .nav-tab:hover {
            background-color: rgba(255, 255, 255, 0.05);
         }

         .org-chart {
            position: relative;
         }

         .org-node {
            padding: 1rem;
            border-radius: 0.5rem;
            background: white;
            border: 1px solid #e5e7eb;
            transition: all 0.2s ease;
            cursor: pointer;
         }

         .org-node:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
         }

         .current-position {
            border: 2px solid #10b981;
            background: #f0fdf4;
         }

         .ceo-node {
            border-color: #ef4444;
            background: #fef2f2;
         }

         .vp-node {
            border-color: #8b5cf6;
            background: #faf5ff;
         }

         .director-node {
            border-color: #3b82f6;
            background: #eff6ff;
         }

         .manager-node {
            border-color: #f59e0b;
            background: #fffbeb;
         }

         .staff-node {
            border-color: #6b7280;
            background: #f9fafb;
         }
      </style>

      <script>
         document.addEventListener("DOMContentLoaded", function () {
            const reportingModal = document.getElementById("reporting-modal");
            const positionModal = document.getElementById("position-modal");

            // Modal open functions
            window.openEditReportingModal = function () {
               reportingModal.classList.remove("hidden");
            };

            window.openAddPositionModal = function () {
               positionModal.classList.remove("hidden");
            };

            // Edit functions
            window.editDirectReport = function (id) {
               alert(`Edit bawahan langsung ID: ${id}`);
            };

            window.editPosition = function (id) {
               positionModal.classList.remove("hidden");
               // Add logic to populate form with existing data
            };

            // Delete functions
            window.deletePosition = function (id) {
               if (
                  confirm(
                     "Apakah Anda yakin ingin menghapus riwayat jabatan ini?"
                  )
               ) {
                  alert("Riwayat jabatan berhasil dihapus");
               }
            };

            // Add functions
            window.addDirectReport = function () {
               alert("Fitur tambah bawahan langsung");
            };

            // Close modal events
            document
               .getElementById("close-reporting-modal")
               .addEventListener("click", () => {
                  reportingModal.classList.add("hidden");
               });

            document
               .getElementById("close-position-modal")
               .addEventListener("click", () => {
                  positionModal.classList.add("hidden");
               });

            document
               .getElementById("cancel-reporting")
               .addEventListener("click", () => {
                  reportingModal.classList.add("hidden");
               });

            document
               .getElementById("cancel-position")
               .addEventListener("click", () => {
                  positionModal.classList.add("hidden");
               });

            // Close modal when clicking outside
            [reportingModal, positionModal].forEach((modal) => {
               modal.addEventListener("click", (e) => {
                  if (e.target === modal) {
                     modal.classList.add("hidden");
                  }
               });
            });

            // Form submissions
            document
               .querySelector("#reporting-modal form")
               .addEventListener("submit", function (e) {
                  e.preventDefault();

                  const submitBtn = this.querySelector('button[type="submit"]');
                  const originalText = submitBtn.textContent;
                  submitBtn.innerHTML =
                     '<i class="fas fa-spinner fa-spin mr-2"></i>Menyimpan...';
                  submitBtn.disabled = true;

                  setTimeout(() => {
                     alert("Struktur pelaporan berhasil diperbarui!");
                     submitBtn.textContent = originalText;
                     submitBtn.disabled = false;
                     reportingModal.classList.add("hidden");
                  }, 1500);
               });

            document
               .querySelector("#position-modal form")
               .addEventListener("submit", function (e) {
                  e.preventDefault();

                  const submitBtn = this.querySelector('button[type="submit"]');
                  const originalText = submitBtn.textContent;
                  submitBtn.innerHTML =
                     '<i class="fas fa-spinner fa-spin mr-2"></i>Menyimpan...';
                  submitBtn.disabled = true;

                  setTimeout(() => {
                     alert("Riwayat jabatan berhasil disimpan!");
                     submitBtn.textContent = originalText;
                     submitBtn.disabled = false;
                     positionModal.classList.add("hidden");
                     this.reset();
                  }, 1500);
               });

            // Org chart interactions
            document.querySelectorAll(".org-node").forEach((node) => {
               node.addEventListener("click", function () {
                  const name = this.querySelector(".font-semibold").textContent;
                  const position = this.querySelector(".text-xs").textContent;
                  alert(`Klik pada: ${name}\nJabatan: ${position}`);
               });
            });
         });
      </script>
   </body>
</html>
